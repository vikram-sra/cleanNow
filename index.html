<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="CleanNow">
    <meta name="theme-color" content="#a855f7">
    <meta name="description" content="Mood-driven chore assistant with magical unicorn vibes">

    <title>CleanNow ‚ú®</title>

    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icons/icon-192.png">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600;700&family=Pacifico&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- Sparkle Background -->
    <div class="sparkle-bg" id="sparkleBg"></div>

    <!-- Floating Hearts -->
    <div class="floating-hearts" id="floatingHearts"></div>

    <!-- Main App Container -->
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="logo">
                <span class="logo-icon">ü¶Ñ</span>
                <h1>CleanNow</h1>
            </div>
            <div class="header-actions">
                <button class="header-btn profile-btn" id="profileBtn" aria-label="Profile">
                    <span class="btn-icon">üë§</span>
                    <span class="btn-pulse"></span>
                </button>
                <button class="header-btn history-btn" id="historyBtn" aria-label="History">
                    <span class="btn-icon">üìú</span>
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Combined Greeting + Time Card with Day Progress -->
            <div class="greeting-time-card" id="greetingTimeCard">
                <div class="greeting-top-row">
                    <div class="greeting-avatar" id="greetingAvatar">üå∏</div>
                    <div class="greeting-info">
                        <span class="greeting-hello" id="greetingHello">Good afternoon!</span>
                        <span class="current-time" id="currentTime">2:47 PM</span>
                    </div>
                    <div class="streak-badge" id="streakBadge">
                        <span class="streak-fire">üî•</span>
                        <span class="streak-count" id="streakCount">0</span>
                    </div>
                </div>
                <div class="day-progress-container">
                    <div class="day-progress-header">
                        <span class="day-progress-label" id="dayProgressLabel">Day Progress (8am - 11pm)</span>
                        <span class="day-progress-percent" id="dayProgressPercent">0%</span>
                    </div>
                    <div class="day-progress-bar">
                        <div class="day-progress-fill" id="dayProgressFill" style="width: 0%"></div>
                    </div>
                </div>
            </div>

            <!-- Weekly Score Dashboard -->
            <div class="score-dashboard" id="scoreDashboard">
                <div class="score-item">
                    <span class="score-value" id="weeklyScore">0/10</span>
                    <span class="score-label">This Week</span>
                </div>
                <div class="score-divider"></div>
                <div class="score-item">
                    <span class="score-value" id="todayScore">0/3</span>
                    <span class="score-label">Today's Goal</span>
                </div>
                <div class="score-divider"></div>
                <div class="score-item">
                    <span class="score-value" id="totalScore">0</span>
                    <span class="score-label">All Time</span>
                </div>
            </div>

            <!-- Mood Section -->
            <section class="mood-section" id="moodSection">
                <h2 class="section-title">How are you feeling? ‚ú®</h2>

                <!-- Emoji Picker -->
                <div class="mood-emojis">
                    <button class="emoji-btn" data-mood="1" data-label="Exhausted">
                        <span class="emoji-face">üò´</span>
                        <span class="emoji-label">Tired</span>
                    </button>
                    <button class="emoji-btn" data-mood="2" data-label="Sleepy">
                        <span class="emoji-face">üò¥</span>
                        <span class="emoji-label">Sleepy</span>
                    </button>
                    <button class="emoji-btn" data-mood="3" data-label="Okay">
                        <span class="emoji-face">üòê</span>
                        <span class="emoji-label">Okay</span>
                    </button>
                    <button class="emoji-btn" data-mood="4" data-label="Good">
                        <span class="emoji-face">üòä</span>
                        <span class="emoji-label">Good</span>
                    </button>
                    <button class="emoji-btn" data-mood="5" data-label="Energetic">
                        <span class="emoji-face">‚ö°</span>
                        <span class="emoji-label">Hyper!</span>
                    </button>
                </div>

                <!-- Energy Slider -->
                <div class="energy-slider-container">
                    <div class="slider-track-wrapper">
                        <input type="range" id="energySlider" min="1" max="5" value="3" class="energy-slider">
                        <div class="slider-track-fill" id="sliderFill"></div>
                    </div>
                    <div class="slider-labels">
                        <span>üê¢ Low</span>
                        <span>High üöÄ</span>
                    </div>
                </div>
            </section>

            <!-- Suggestions Section -->
            <section class="suggestions-section" id="suggestionsSection">
                <div class="section-header">
                    <h2 class="section-title">Your Magic Tasks ‚ú®</h2>
                    <button class="focus-mode-btn" id="focusModeBtn">
                        <span>üéØ</span> Focus Mode
                    </button>
                </div>

                <div class="chore-cards" id="choreCards">
                    <!-- Chore cards will be dynamically inserted here -->
                </div>

                <!-- Break Suggestion -->
                <div class="break-suggestion hidden" id="breakSuggestion">
                    <div class="break-card">
                        <div class="break-confetti"></div>
                        <span class="break-icon">üåà</span>
                        <h3>Time for a break!</h3>
                        <p id="breakActivity">How about reading a book?</p>
                        <button class="skip-break-btn" id="skipBreakBtn">Skip Break</button>
                    </div>
                </div>
            </section>

            <!-- Current Task Section -->
            <section class="current-task-section hidden" id="currentTaskSection">
                <div class="current-task-card">
                    <div class="task-sparkles"></div>
                    <div class="task-header">
                        <span class="task-icon" id="currentTaskIcon">üßπ</span>
                        <h3 id="currentTaskName">Doing the Dishes</h3>
                    </div>
                    <div class="task-timer" id="taskTimer">00:00</div>
                    <div class="task-progress-ring">
                        <svg viewBox="0 0 100 100">
                            <circle class="progress-bg" cx="50" cy="50" r="45" />
                            <circle class="progress-bar" cx="50" cy="50" r="45" id="progressRing" />
                        </svg>
                    </div>
                    <div class="task-actions">
                        <button class="complete-btn" id="completeTaskBtn">
                            <span class="btn-sparkle">‚ú®</span>
                            Done!
                        </button>
                        <button class="skip-btn" id="skipTaskBtn">‚è≠Ô∏è Skip</button>
                    </div>
                </div>
            </section>
        </main>

        <!-- Profile Panel -->
        <div class="profile-panel hidden" id="profilePanel">
            <div class="panel-header">
                <h2>üåü My Profile</h2>
                <button class="close-panel-btn" id="closeProfileBtn">‚úï</button>
            </div>

            <div class="profile-content">
                <!-- Avatar & Name -->
                <div class="profile-avatar-section">
                    <div class="avatar-picker" id="avatarPicker">
                        <span class="current-avatar" id="currentAvatar">üå∏</span>
                        <button class="change-avatar-btn">Change</button>
                    </div>
                    <input type="text" class="name-input" id="nameInput" placeholder="Your Name" maxlength="20">
                </div>

                <!-- Avatar Options (Hidden by default) -->
                <div class="avatar-options hidden" id="avatarOptions">
                    <div class="avatar-grid">
                        <button class="avatar-option" data-avatar="üå∏">üå∏</button>
                        <button class="avatar-option" data-avatar="ü¶ã">ü¶ã</button>
                        <button class="avatar-option" data-avatar="üå∫">üå∫</button>
                        <button class="avatar-option" data-avatar="üê±">üê±</button>
                        <button class="avatar-option" data-avatar="ü¶Ñ">ü¶Ñ</button>
                        <button class="avatar-option" data-avatar="üåô">üåô</button>
                        <button class="avatar-option" data-avatar="‚≠ê">‚≠ê</button>
                        <button class="avatar-option" data-avatar="üç≠">üç≠</button>
                        <button class="avatar-option" data-avatar="üéÄ">üéÄ</button>
                        <button class="avatar-option" data-avatar="üíé">üíé</button>
                        <button class="avatar-option" data-avatar="üîÆ">üîÆ</button>
                        <button class="avatar-option" data-avatar="üß∏">üß∏</button>
                    </div>
                </div>

                <!-- Stats -->
                <div class="profile-stats">
                    <div class="stat-card">
                        <span class="stat-icon">‚úÖ</span>
                        <span class="stat-value" id="totalCompleted">0</span>
                        <span class="stat-label">Tasks Done</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-icon">üî•</span>
                        <span class="stat-value" id="currentStreak">0</span>
                        <span class="stat-label">Day Streak</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-icon">‚è±Ô∏è</span>
                        <span class="stat-value" id="totalTime">0h</span>
                        <span class="stat-label">Time Spent</span>
                    </div>
                </div>

                <!-- Day Schedule Settings -->
                <div class="day-schedule-section">
                    <h3>‚è∞ My Day Schedule</h3>
                    <div class="schedule-inputs">
                        <div class="schedule-input-group">
                            <label for="dayStartInput">Day Starts</label>
                            <input type="time" id="dayStartInput" value="08:00">
                        </div>
                        <div class="schedule-input-group">
                            <label for="dayEndInput">Day Ends</label>
                            <input type="time" id="dayEndInput" value="23:00">
                        </div>
                    </div>
                </div>

                <!-- Theme Selector -->
                <div class="theme-section">
                    <h3>üé® Theme</h3>
                    <div class="theme-options">
                        <button class="theme-btn active" data-theme="unicorn">
                            <div class="theme-preview"></div>
                            <span class="theme-name">ü¶Ñ Unicorn</span>
                        </button>
                        <button class="theme-btn" data-theme="garden">
                            <div class="theme-preview"></div>
                            <span class="theme-name">üå∏ Garden</span>
                        </button>
                        <button class="theme-btn" data-theme="warm">
                            <div class="theme-preview"></div>
                            <span class="theme-name">ü™î Warm Lamps</span>
                        </button>
                        <button class="theme-btn" data-theme="cozy">
                            <div class="theme-preview"></div>
                            <span class="theme-name">‚òï Cozy Sunday</span>
                        </button>
                    </div>
                </div>

                <!-- My Chores Section -->
                <div class="editable-list-section">
                    <div class="list-header">
                        <h3>üßπ My Chores</h3>
                        <button class="add-item-btn" id="addChoreBtn">+ Add</button>
                    </div>
                    <div class="editable-list" id="choresList">
                        <!-- Chores will be dynamically inserted -->
                    </div>
                </div>

                <!-- My Hobbies Section -->
                <div class="editable-list-section">
                    <div class="list-header">
                        <h3>üåà My Hobbies</h3>
                        <button class="add-item-btn" id="addHobbyBtn">+ Add</button>
                    </div>
                    <div class="editable-list" id="hobbiesList">
                        <!-- Hobbies will be dynamically inserted -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Add Item Modal -->
        <div class="add-modal hidden" id="addModal">
            <div class="modal-content">
                <h3 id="modalTitle">Add New Item</h3>
                <div class="modal-form">
                    <div class="emoji-picker-row">
                        <label>Pick an icon:</label>
                        <div class="mini-emoji-grid" id="miniEmojiGrid">
                            <!-- Emojis will be inserted dynamically -->
                        </div>
                    </div>
                    <input type="text" id="itemNameInput" placeholder="Name..." maxlength="30">
                    <div class="priority-picker hidden" id="priorityPicker">
                        <label>Priority:</label>
                        <div class="priority-options">
                            <button class="priority-opt" data-priority="1">‚≠ê</button>
                            <button class="priority-opt" data-priority="2">‚≠ê‚≠ê</button>
                            <button class="priority-opt active" data-priority="3">‚≠ê‚≠ê‚≠ê</button>
                        </div>
                    </div>
                    <div class="energy-picker hidden" id="energyPicker">
                        <label>Energy needed:</label>
                        <div class="energy-options">
                            <button class="energy-opt" data-energy="1">üê¢</button>
                            <button class="energy-opt" data-energy="2">üö∂</button>
                            <button class="energy-opt active" data-energy="3">üèÉ</button>
                            <button class="energy-opt" data-energy="4">üí™</button>
                            <button class="energy-opt" data-energy="5">üöÄ</button>
                        </div>
                    </div>
                </div>
                <div class="modal-actions">
                    <button class="modal-cancel" id="modalCancel">Cancel</button>
                    <button class="modal-save" id="modalSave">Save ‚ú®</button>
                </div>
            </div>
        </div>

        <!-- Focus Mode Overlay -->
        <div class="focus-overlay hidden" id="focusOverlay">
            <div class="focus-modal">
                <h2>üéØ Focus Mode</h2>
                <p>Select a chore to focus on:</p>
                <div class="focus-chore-list" id="focusChoreList">
                    <!-- Focus chores will be inserted here -->
                </div>
                <button class="cancel-focus-btn" id="cancelFocusBtn">Cancel</button>
            </div>
        </div>

        <!-- History Panel -->
        <div class="history-panel hidden" id="historyPanel">
            <div class="panel-header">
                <h2>üìú History</h2>
                <button class="close-panel-btn" id="closeHistoryBtn">‚úï</button>
            </div>
            <div class="history-list" id="historyList">
                <!-- History items will be inserted here -->
            </div>
        </div>

        <!-- Notification Toast -->
        <div class="toast hidden" id="toast">
            <span class="toast-icon">‚ú®</span>
            <span class="toast-message" id="toastMessage">Task completed!</span>
        </div>

        <!-- Reminder Notification -->
        <div class="reminder hidden" id="reminder">
            <div class="reminder-content">
                <span class="reminder-icon">‚è∞</span>
                <p id="reminderMessage">Don't forget about your chores!</p>
                <button class="reminder-close" id="reminderClose">Got it!</button>
            </div>
        </div>

        <!-- Celebration Overlay (Full Screen) -->
        <div class="celebration hidden" id="celebration">
            <div class="celebration-bg"></div>
            <div class="confetti-container" id="confettiContainer"></div>
            <div class="celebration-characters">
                <span class="dancing-char" style="--delay: 0s; --x: 20%">ü¶Ñ</span>
                <span class="dancing-char" style="--delay: 0.2s; --x: 35%">üåü</span>
                <span class="dancing-char" style="--delay: 0.4s; --x: 50%">üéâ</span>
                <span class="dancing-char" style="--delay: 0.6s; --x: 65%">‚ú®</span>
                <span class="dancing-char" style="--delay: 0.8s; --x: 80%">ü¶ã</span>
            </div>
            <div class="celebration-message">
                <span class="celebration-emoji" id="celebrationEmoji">üéâ</span>
                <h2 id="celebrationTitle">Amazing Job!</h2>
                <p id="celebrationSubtitle">You're crushing it! ‚ú®</p>
            </div>
            <div class="floating-stars" id="floatingStars"></div>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>